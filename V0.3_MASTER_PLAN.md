# Harthio v0.3 - Master Implementation Plan

**Version:** v0.3 - AI Companion + Mental Health Focus  
**Current:** v0.2 (40 users)  
**Timeline:** Q1 2025 (12 weeks)  
**Target:** 500 users, 10% Pro conversion  
**Status:** Week 3-4 (UI Redesign Phase)

---

## ğŸ¯ Current Progress Summary

**âœ… COMPLETED:**
- 5-tab navigation system (mobile + desktop)
- Home page with 31 daily motivational quotes
- Functional daily check-ins with database integration
- Progress page structure with 3 tabs
- Tab order optimized: Progress | Harthio | Home | Sessions | Me
- Home set as default landing page
- **Recovery Tracker visualization with mood charts** âœ¨
  - 7-day mood trend line chart
  - Weekly insights (average mood, trend %, best/worst days)
  - Motivational progress messages
  - Real data integration from check-ins
- Real data integration for Home & Progress pages
- Database migration for daily_checkins table with RLS security

**ğŸš§ IN PROGRESS:**
- None

**â³ NEXT UP:**
- Harthio AI chat interface
- Weekly stats implementation
- CBT tools suite

---

## ğŸ“‹ Table of Contents
1. [Vision & Strategy](#vision--strategy)
2. [Feature Specifications](#feature-specifications)
3. [Pricing Model](#pricing-model)
4. [Mobile-First Design](#mobile-first-design)
5. [Crisis Detection System](#crisis-detection-system)
6. [Implementation Timeline](#implementation-timeline)
7. [Success Metrics](#success-metrics)

---

## Vision & Strategy

### **Three-Tier Growth Model**
```
Tier 1: AI Companion (v0.3) â† Building Now
â”œâ”€ 24/7 AI support
â”œâ”€ CBT tools
â””â”€ Recovery tracking

Tier 2: Peer Sessions (Live) âœ…
â”œâ”€ Video/voice calls
â”œâ”€ Community support
â””â”€ 40 active users

Tier 3: Professional Therapy (v0.4) ğŸ”®
â”œâ”€ Licensed therapists
â”œâ”€ Insurance integration
â””â”€ Launch Q4 2025
```

### **Target Market**
1. **Primary:** Addiction recovery (alcohol, drugs, gambling)
2. **Secondary:** Mental health (anxiety, depression, PTSD)
3. **Tertiary:** General peer support

### **Positioning**
"Your complete recovery support system - AI when you need it, humans when you want it"

---

## Feature Specifications

### **1. Harthio AI Companion** ğŸ’¬
**What:** Conversational AI for 24/7 mental health support

**Capabilities:**
- Natural conversation about struggles
- Evidence-based CBT techniques
- Crisis detection & resources
- Smart session suggestions
- Recovery progress tracking

**Access:**
- Free: âŒ Not available
- Pro: âœ… Unlimited chat

**Example Conversation:**
```
User: "I'm having cravings tonight"

Harthio: "I'm here for you. Let's work through this:

1. ğŸ§  Challenge those thoughts (CBT)
2. ğŸ’ª Quick coping technique
3. ğŸ¯ Find support session
4. ğŸ“ Crisis resources

What would help most right now?"
```

---

### **2. AI Topic Helper** âœ¨
**What:** Helps users create better session topics

**How It Works:**
```
User: "struggling with staying sober at night"

Harthio: "I can help you create a session:

Title: Evening Sobriety Support
Description: Let's discuss strategies for staying 
sober during difficult evening hours. Share what 
works and learn from others.

[âœï¸ Edit] [âœ“ Create] [ğŸ”„ Try Again]"
```

**Access:**
- Free: 1 per day
- Pro: 10 per day

**Why Limited?**
- Prevents session spam
- Encourages thoughtful creation
- Keeps costs predictable

---

### **3. Daily Check-In** ğŸ“Š
**What:** Quick mood tracking for self-awareness

**Flow:**
```
Harthio: "Good morning! How are you feeling?
ğŸ˜¢ Struggling | ğŸ˜ Okay | ğŸ˜Š Good | ğŸš€ Great"

[User taps ğŸ˜ Okay]

Harthio: "Got it. Anything on your mind?"

User: "Worried about staying sober tonight"

Harthio: "Let's make a plan:
â€¢ Session at 7pm about evening sobriety
â€¢ Set reminder to check in at 6pm
â€¢ Quick coping technique now

What would help?"
```

**Access:**
- Free: âœ… Unlimited
- Pro: âœ… Unlimited

**Why Free?**
- Builds daily habit
- Collects valuable data
- Shows AI value
- Encourages Pro upgrade

---

### **4. CBT Tools Suite** ğŸ§ 
**What:** Evidence-based mental health techniques

**Tools:**
1. **Thought Challenger** - Reframe negative thinking
2. **Coping Techniques** - Immediate relief strategies
3. **Trigger Tracker** - Identify patterns
4. **Grounding Exercises** - Manage anxiety/panic

**Access:**
- Free: âŒ Not available
- Pro: âœ… Unlimited

---

### **5. Recovery Tracker** ğŸŒ‰
**What:** Visual progress representation

**Options:**
- **Bridge of Recovery** - Build plank by plank
- **Phoenix Rise** - Grow from chick to bird
- **Mountain Ascent** - Climb to summit

**Features:**
- Never fully resets on relapse
- Shows "Total Days" vs "Current Streak"
- Celebrates milestones
- Visual motivation

**Access:**
- Free: Basic (days count only)
- Pro: Advanced (full visual + analytics)

---

## Pricing Model

### **Free Tier**
```
âœ… Unlimited peer sessions
âœ… 1 AI Topic Helper per day
âœ… Unlimited daily check-ins
âœ… Basic recovery tracker
âœ… Crisis resources

âŒ No Harthio AI companion
âŒ No CBT tools
âŒ No advanced analytics
```

### **Pro Tier - $9.99/month**
```
âœ… Everything in Free, plus:
âœ… Unlimited Harthio AI companion â† Main Value!
âœ… 10 AI Topic Helpers per day
âœ… Full CBT tools suite
âœ… Advanced recovery tracker
âœ… Detailed progress analytics
âœ… Priority session matching
âœ… Export recovery data
âœ… Ad-free experience
```

### **Free Trial**
- **14 days** (not 7)
- Why? Mental health needs time to show impact
- Allows users to experience full value
- See real progress in recovery

### **Revenue Projections**
```
Current (v0.2): 40 users Ã— 0% = $0/month
v0.3 Launch: 500 users Ã— 10% = $500/month
v0.4 (therapy): Additional commission revenue
```

---

## Responsive Design Strategy

### **Screen Sizes**
```
Mobile:  < 768px  (sm)  - Bottom navigation (4 tabs)
Tablet:  768-1024px (md) - Sidebar navigation
Desktop: > 1024px (lg)   - Sidebar navigation
```

### **Mobile (< 768px) - Bottom Navigation**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ       ğŸ’¬        ğŸ“…        ğŸ“Š        ğŸ‘¤         â”‚
â”‚ Home  Harthio  Sessions  Progress    Me          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Fixed bottom bar (5 tabs)
- Content has `pb-16` padding to avoid overlap
- Compact icons for mobile

### **Tablet/Desktop (â‰¥ 768px) - Sidebar Navigation**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sidebar  â”‚  Main Content          â”‚
â”‚          â”‚                        â”‚
â”‚ Home     â”‚  Dashboard/Page        â”‚
â”‚ Harthio  â”‚                        â”‚
â”‚ Sessions â”‚                        â”‚
â”‚ Progress â”‚                        â”‚
â”‚ Requests â”‚                        â”‚
â”‚ Profile  â”‚                        â”‚
â”‚ History  â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Sidebar shows all navigation
- No bottom bar
- Full screen content

### **Implementation Status**
- âœ… Mobile bottom nav (5 tabs) - COMPLETED
- âœ… Responsive design (mobile + desktop) - COMPLETED
- âœ… Tab order: Progress | Harthio | Home | Sessions | Me - COMPLETED
- âœ… Home page with daily quotes - COMPLETED
- âœ… Daily check-in functionality - COMPLETED
- âœ… Progress page structure - COMPLETED
- âš ï¸ Need to implement: Recovery tracker visualization
- âš ï¸ Need to implement: Harthio AI chat
- âš ï¸ Need to implement: Real data integration

### **Tab 1: ğŸ“Š Progress** (First Position)
**Status: âœ… COMPLETED (Tracker & History), âš ï¸ Stats Pending**
- âœ… Recovery tracker with 7-day mood chart
- âœ… Weekly insights (trend, best/worst days)
- âœ… Session history with real data
- âœ… Quick stats cards (Current Streak, Total Check-ins, Sessions Joined)
- âœ… 3-tab layout: Tracker | History | Stats
- âš ï¸ Weekly stats - Placeholder ready

### **Tab 2: ğŸ’¬ Harthio** (AI Companion)
**Status: âš ï¸ Not Started**
- Conversational AI interface
- CBT tools
- Crisis resources
- Pro-only access check
- Voice input option (future)

### **Tab 3: ğŸ  Home** (Default Landing - Center Position)
**Status: âœ… COMPLETED**
- âœ… Personalized greeting (time-based)
- âœ… Daily motivational quotes (31 quotes, 1 per day)
- âœ… Daily check-in with mood buttons (Struggling, Okay, Good, Great)
- âœ… Quick stats cards
- âœ… Quick action buttons to Sessions and Progress
- âœ… Fully functional check-in saving to database

### **Tab 4: ğŸ“… Sessions** (Current Dashboard)
**Status: âœ… Already Exists**
- Browse live & upcoming sessions
- Create new session
- Request to join
- Search & filter
- Real-time updates

### **Tab 5: ğŸ‘¤ Me** (Profile)
**Status: âœ… Already Exists**
- Profile & settings
- Notifications
- Upgrade to Pro (placeholder)
- Help & support

---

## Crisis Detection System

### **Comprehensive Keywords (60+)**

**Critical (Immediate Danger):**
- Suicide, kill myself, end it all, overdose
- Jump off, hang myself, gun to my head
- Hurt my child, harm my baby

**High (Serious Concern):**
- Self harm, cutting, hurt myself
- Using again, bought drugs, going to use
- Voices telling me, hallucinating

**Moderate (Elevated Risk):**
- No hope, hopeless, can't go on
- Panic attack, can't breathe
- Giving up, why bother

### **Response System**

**Critical:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ†˜ We're Concerned About You       â”‚
â”‚                                     â”‚
â”‚  ğŸ“ 988 Suicide & Crisis Lifeline   â”‚
â”‚      [Call Now]                     â”‚
â”‚                                     â”‚
â”‚  ğŸ“± Text HOME to 741741             â”‚
â”‚      [Open Messages]                â”‚
â”‚                                     â”‚
â”‚  ğŸš¨ Emergency: 911                  â”‚
â”‚      [Call Now]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Logging:**
- All crisis events logged
- Admin dashboard for review
- Severity levels tracked
- Future: Real-time admin alerts

---

## Implementation Timeline

### **Week 1-2: Planning & Design**
- [x] Strategic planning
- [x] Feature decisions
- [x] 5-tab navigation structure
- [x] User flows
- [x] Database schema for check-ins

### **Week 3-4: UI Redesign** âœ… COMPLETED
- [x] 5-tab bottom navigation (Progress | Harthio | Home | Sessions | Me)
- [x] Home page with daily quotes
- [x] Progress page structure
- [x] Mobile responsive testing
- [x] Recovery tracker visualization with charts
- [x] Real data integration

### **Week 5-6: Core Features & Data Integration** â† WE ARE HERE
- [x] Daily check-ins (functional)
- [x] Connect real session history to Progress page
- [x] Recovery tracker with real data
- [x] Check-in streak calculation
- [ ] Weekly stats implementation
- [ ] Harthio chat interface

### **Week 7-8: AI Integration**
- [ ] DeepSeek API setup
- [ ] Harthio AI chat interface
- [ ] Rate limiting system (1/day free, 10/day pro)
- [ ] Cost monitoring
- [ ] Crisis detection integration

### **Week 9-10: Testing**
- [ ] Beta with 10 users
- [ ] Bug fixes
- [ ] Performance optimization
- [ ] Security review

### **Week 11-12: Launch**
- [ ] Deploy to production
- [ ] Announce to 40 users
- [ ] Monitor & iterate
- [ ] Marketing campaign

---

## Success Metrics

### **Activation**
- âœ… 80% try Harthio AI
- âœ… 50% use weekly
- âœ… 3 interactions/user/week

### **Engagement**
- âœ… 60% daily check-ins
- âœ… 40% use CBT tools
- âœ… 70% view tracker

### **Conversion**
- âœ… 10% convert to Pro
- âœ… 50 Pro users = $500/month
- âœ… <$100/month AI costs

### **Growth**
- âœ… 500 users by end Q1
- âœ… 12.5x from current 40
- âœ… 30% month-over-month

### **Recovery Outcomes** ğŸ’™
- âœ… Users feel supported
- âœ… Crisis interventions work
- âœ… Sobriety days increasing
- âœ… Lives positively impacted

---

## Technical Stack

**Frontend:**
- Next.js 14 (current)
- React Native (mobile apps)
- Tailwind CSS
- Mobile-first responsive

**Backend:**
- Supabase (PostgreSQL)
- DeepSeek API (AI)
- Real-time subscriptions
- WebRTC (video)

**AI Infrastructure:**
- DeepSeek V2 API only
- Rate limiting (1/day free, 10/day pro for topic helper)
- Response caching (1 hour)
- Budget cap: $5/day

---

## Safety & Compliance

### **Age Verification**
- Required for addiction features
- 18+ for addiction recovery
- 13+ for general mental health (with consent)
- Collect date of birth

### **Data Privacy**
- Encrypt all AI conversations
- Users can delete history
- No AI training on user data
- HIPAA-aware (not compliant yet)

### **Crisis Logging**
- All events logged for admin
- Severity levels tracked
- Admin dashboard review
- Future: Real-time alerts

---

## Next Immediate Actions

1. **Create UI mockups** (Figma/Sketch)
2. **Set up DeepSeek API** account
3. **Update database schema**
4. **Start 4-tab navigation** implementation
5. **Build crisis detection** system

---

**Status:** âœ… Planning complete, ready to build!

**Remember:** We're building a recovery platform that saves lives. Every feature serves that mission. Ship fast, learn from users, iterate based on real needs.
